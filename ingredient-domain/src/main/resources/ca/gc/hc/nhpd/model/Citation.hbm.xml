<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC 
	"-//Hibernate/Hibernate Mapping DTD 3.6//EN"
	"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="ca.gc.hc.nhpd.model">
	<!-- Note that lazy must be turned off for the subclassing to create proper class signatures -->
	<class name="Citation" table="citations" lazy="false">
	    <cache usage="read-write"/>
		<id name="id" type="java.lang.Long" column="citation_id">
	 		<generator class="sequence">
	        	<param name="sequence">citations_seq</param>
	        </generator>
		</id>
		<discriminator column="citationspec_class_name" type="string"/>
		<property name="code" type="string" length="20" column="code"/>
		<property name="abridgedTitleE" type="string" length="100" column="citation_abridged_title_eng"/>
		<property name="abridgedTitleF" type="string" length="100" column="citation_abridged_title_fr"/>
		<property name="commentE" type="string" length="1000" column="citation_comment_eng"/>
		<property name="commentF" type="string" length="1000" column="citation_comment_fr"/>
		<property name="workAuthorE" type="string" length="500" column="citation_work_author_eng"/>
		<property name="workAuthorF" type="string" length="500" column="citation_work_author_fr"/>
		<property name="workDate" type="date" column="citation_work_date"/>
		<property name="workTitleE" type="string" length="500" column="citation_work_title_eng" not-null="false"/>
		<property name="workTitleF" type="string" length="500" column="citation_work_title_fr" not-null="false"/>
		<property name="workYearString" type="string" length="100" column="citation_work_year_string"/>
		<property name="fullTextE" type="string" length="750" column="citation_full_text_eng" not-null="false"/>
		<property name="fullTextF" type="string" length="750" column="citation_full_text_fr" not-null="false"/>
		

		<property name="creationDate" type="date" column="citation_creation_date"/>
		<property name="lastUpdateDate" type="date" column="citation_lastupdate_date"/>
		<many-to-one name="lastUpdateAccount" column="useracc_id" not-null="true"/>

		<subclass name="Book" discriminator-value="Book">
			<property name="edition" type="string" length="20" column="citation_edition"/>
			<property name="place" type="string" length="100" column="citation_place"/>
			<property name="publisherE" type="string" length="100" column="citation_publisher_eng"/>
			<property name="publisherF" type="string" length="100" column="citation_publisher_fr"/>
		</subclass>

		<subclass name="BookChapter" discriminator-value="BookChapter">
			<property name="bookTitleE" type="string" length="100" column="citation_publication_title_eng"/>
			<property name="bookTitleF" type="string" length="100" column="citation_publication_title_fr"/>
			<property name="edition" type="string" length="20" column="citation_edition"/>
			<property name="editor" type="string" length="100" column="citation_editor"/>
			<property name="pageNumbers" type="string" length="100" column="citation_page_numbers"/>
			<property name="place" type="string" length="100" column="citation_place"/>
			<property name="publisherE" type="string" length="100" column="citation_publisher_eng"/>
			<property name="publisherF" type="string" length="100" column="citation_publisher_fr"/>
		</subclass>

		<subclass name="ConferenceProceedings" discriminator-value="ConferenceProceedings">
			<property name="editor" type="string" length="100" column="citation_editor"/>
			<property name="meetingDate" type="date" column="citation_access_date"/>
			<property name="meetingPlace" type="string" length="100" column="citation_meeting_place"/>
			<property name="pageNumbers" type="string" length="20" column="citation_page_numbers"/>
			<property name="proceedingsTitle" type="string" length="200" column="citation_publication_title"/>
			<property name="volume" type="string" length="20" column="citation_volume"/>
			<property name="place" type="string" length="100" column="citation_place"/>
			<property name="publisherE" type="string" length="100" column="citation_publisher_eng"/>
			<property name="publisherF" type="string" length="100" column="citation_publisher_fr"/>
		</subclass>

		<subclass name="JournalArticle" discriminator-value="JournalArticle">
			<property name="pageNumbers" type="string" length="20" column="citation_page_numbers"/>
			<property name="part" type="string" length="20" column="citation_part"/>
			<property name="volume" type="string" length="20" column="citation_volume"/>
			<many-to-one name="journal" column="journal_id" not-null="true"/>
		</subclass>

		<subclass name="Report" discriminator-value="Report">
			<property name="reportNumber" type="string" length="100" column="citation_volume"/>
			<property name="place" type="string" length="100" column="citation_place"/>
			<property name="publisherE" type="string" length="100" column="citation_publisher_eng"/>
			<property name="publisherF" type="string" length="100" column="citation_publisher_fr"/>
		</subclass>

		<subclass name="Theses" discriminator-value="Theses">
			<property name="degree" type="string" length="100" column="citation_degree"/>
			<property name="place" type="string" length="100" column="citation_place"/>
			<property name="university" type="string" length="100" column="citation_university"/>
		</subclass>

		<subclass name="Website" discriminator-value="Website">
			<property name="accessDate" type="date" column="citation_access_date"/>
			<property name="siteTitleE" type="string" length="200" column="citation_publication_title_eng"/>
			<property name="urlE" type="string" length="200" column="citation_url_eng"/>
			<property name="siteTitleF" type="string" length="200" column="citation_publication_title_fr"/>
			<property name="urlF" type="string" length="200" column="citation_url_fr"/>
		</subclass>
		
		<subclass name="UnpublishedWork" discriminator-value="UnpublishedWork">
		</subclass>
		
	</class>
</hibernate-mapping>