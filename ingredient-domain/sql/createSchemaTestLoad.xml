<?xml version="1.0"?>
<!-- 
*******************************************************************************
* Ant script used to create the database schema for Schema 4.
* MR Feb 25,2009 
*******************************************************************************
-->
<project default="main" basedir=".">
<!-- location of sqlplus executable.  Modify for your local env -->
<property name="sqlplus.bindir" value="C:\oracle\ora92\bin" />
	
<!--
*******************************************************************************
* TARGET: createSchema4
* Uses SQLPlus command line tool to recreate DB Schema 4.
*  
* NB. This uses the Oracle 9 command line version of SQL Plus.  the Oracle
* 10 version requires different arguments (TBD) 
*******************************************************************************-->
<target name="createSchemaTestLoad" description="Recreate Oracle Schema: NHPD_TEST_LOAD">
    <exec executable="${sqlplus.bindir}\sqlplus.exe" failonerror="true">
        <arg line=" NHPD_TEST_LOAD/NHPD_LOAD@DEV1.OIMT @build_script.sql"/>
    </exec>
</target>
<!--
*******************************************************************************
* TARGET: renameReport			
*******************************************************************************-->
<target name="renameReport">
    <tstamp>
      <format property="timestamp" pattern="yyyy-MM-dd_HH.mm.ss"/>
    </tstamp>
    <move verbose="true" 
    	     file="schemaNhpdTestLoad_load_report.sql" 
    	   tofile="schemaNhpdTestLoad_load_report.${timestamp}"/>
</target>		
	

<!--
***********************************************************
* main   
***********************************************************-->
<target name="main">
	<echo message="*------------------------------------------------------------------" />
	<echo message="* Recreating Oracle DB Schema NHPD_TEST_LOAD" />
	<echo message="*------------------------------------------------------------------" />	
	<antcall target="createSchemaTestLoad" />
	<antcall target="renameReport" />
</target>

</project>
